from pwn import *


i = 0
j = 1024
context.log_level = "error"

# binary search
while 1:
    x = i + (j - i) // 2
    # print(i)
    # print(x)
    # print(j)
    print(f"{i}\t{x}\t{j}")
    p = process(["./passtest", str(x)])
    exit_value = p.poll(block=True)
    # print(exit_value)
    if exit_value == 1:
        j = x
    elif exit_value == 255:
        i = x
    else:
        print("x:", x)
        print(p.recvall().decode())
        break
    # sleep(1)
